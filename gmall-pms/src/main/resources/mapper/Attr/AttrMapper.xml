<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.atguigu.gmall.pms.attr.dao.AttrMapper">

    <resultMap type="com.atguigu.gmall.pms.attr.entity.po.Attr" id="AttrMap">
        <result property="attrId" column="attr_id" jdbcType="INTEGER"/>
        <result property="attrName" column="attr_name" jdbcType="VARCHAR"/>
        <result property="searchType" column="search_type" jdbcType="OTHER"/>
        <result property="valueType" column="value_type" jdbcType="OTHER"/>
        <result property="icon" column="icon" jdbcType="VARCHAR"/>
        <result property="valueSelect" column="value_select" jdbcType="VARCHAR"/>
        <result property="attrType" column="attr_type" jdbcType="OTHER"/>
        <result property="enable" column="enable" jdbcType="INTEGER"/>
        <result property="catelogId" column="catelog_id" jdbcType="INTEGER"/>
        <result property="showDesc" column="show_desc" jdbcType="OTHER"/>
    </resultMap>

    <sql id="basrSql">
        attr_id as attrId,
        attr_name as attrName,
        search_type as searchType,
        value_type as valueType,
        icon,
        value_select as valueSelect,
        attr_type as attrType,
        enable,
        catelog_id as catelogId,
        show_desc as showDesc
    </sql>


    <!--  分页查询  -->
    <select id="findByPage" resultType="com.atguigu.gmall.pms.attr.entity.po.Attr">
        select
        <include refid="basrSql"/>
        from
        pms_attr
        where
        attr_name like  CONCAT('%',#{attrName},'%')
    </select>


</mapper>